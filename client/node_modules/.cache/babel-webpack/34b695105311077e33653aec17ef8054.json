{"ast":null,"code":"import _asyncToGenerator from \"D:/Code/angular-crm/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { routeSlider } from '../animations';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/auth.service\";\nimport * as i2 from \"../language/language.service\";\nimport * as i3 from \"../services/theme.service\";\nimport * as i4 from \"../services/customers.service\";\nimport * as i5 from \"../services/products.service\";\nimport * as i6 from \"@angular/material/card\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"./navbar/navbar.component\";\nimport * as i9 from \"@angular/router\";\nimport * as i10 from \"../login-register/login-register.component\";\n\nfunction MainComponent_app_navbar_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-navbar\");\n  }\n}\n\nfunction MainComponent_main_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"main\");\n    i0.ɵɵelement(1, \"router-outlet\", null, 2);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const _r3 = i0.ɵɵreference(2);\n\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"@routeAnimations\", ctx_r1.prepareRoute(_r3));\n  }\n}\n\nfunction MainComponent_app_login_register_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-login-register\");\n  }\n}\n\nexport class MainComponent {\n  constructor(authService, languageService, themeService, customersService, productService) {\n    this.authService = authService;\n    this.languageService = languageService;\n    this.themeService = themeService;\n    this.customersService = customersService;\n    this.productService = productService;\n    this.languageService.setDefaultLanguage();\n    this.getInitData();\n  }\n\n  ngOnInit() {\n    this.authService.authSuccess$.subscribe(user => {\n      this.user = user;\n    });\n    this.isLogged();\n    this.themeService.setDefaultTheme();\n  }\n\n  getInitData() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const products = yield _this.productService.getProducts();\n\n      _this.customersService.getCustomersWithProducts(50, products);\n    })();\n  }\n\n  isLogged() {\n    const user = this.authService.getUserForLocalToken();\n\n    if (user) {\n      this.user = user;\n    }\n  }\n\n  prepareRoute(outlet) {\n    return outlet && outlet.activatedRouteData && outlet.activatedRouteData.animation;\n  }\n\n}\n\nMainComponent.ɵfac = function MainComponent_Factory(t) {\n  return new (t || MainComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.LanguageService), i0.ɵɵdirectiveInject(i3.ThemeService), i0.ɵɵdirectiveInject(i4.CustomersService), i0.ɵɵdirectiveInject(i5.ProductsService));\n};\n\nMainComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MainComponent,\n  selectors: [[\"app-main\"]],\n  decls: 4,\n  vars: 3,\n  consts: [[1, \"wrapper\"], [4, \"ngIf\"], [\"outlet\", \"outlet\"]],\n  template: function MainComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"mat-card\", 0);\n      i0.ɵɵtemplate(1, MainComponent_app_navbar_1_Template, 1, 0, \"app-navbar\", 1);\n      i0.ɵɵtemplate(2, MainComponent_main_2_Template, 3, 1, \"main\", 1);\n      i0.ɵɵtemplate(3, MainComponent_app_login_register_3_Template, 1, 0, \"app-login-register\", 1);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.user);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.user);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.user);\n    }\n  },\n  directives: [i6.MatCard, i7.NgIf, i8.NavbarComponent, i9.RouterOutlet, i10.LoginRegisterComponent],\n  styles: [\".wrapper[_ngcontent-%COMP%] {\\n  display: flex;\\n  width: 90%;\\n  max-width: 1200px;\\n  height: 90%;\\n  box-shadow: 3px 3px 20px rgba(0, 0, 0, 0.2);\\n  border-radius: 1%;\\n}\\n@media (max-width: 768px) {\\n  .wrapper[_ngcontent-%COMP%] {\\n    width: 100%;\\n    height: 100%;\\n  }\\n}\\n.wrapper[_ngcontent-%COMP%]   app-navbar[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.wrapper[_ngcontent-%COMP%]   app-login[_ngcontent-%COMP%] {\\n  width: 50%;\\n}\\n.wrapper[_ngcontent-%COMP%]   main[_ngcontent-%COMP%] {\\n  position: relative;\\n  border-radius: var(--border-radius-right-for-ltr);\\n  margin: var(--small-gap-left-for-ltr);\\n  overflow: hidden;\\n  width: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uY29tcG9uZW50LnNjc3MiLCIuLlxcc3R5bGVcXF9yZXNwb25zaXZlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBV0E7RUFDRSxhQUFBO0VBQ0EsVUFBQTtFQUNBLGlCQUFBO0VBQ0EsV0FBQTtFQUVBLDJDQUFBO0VBQ0EsaUJBQUE7QUFYRjtBQ0hJO0VET0o7SUFTSSxXQUFBO0lBQ0EsWUFBQTtFQVRGO0FBQ0Y7QUFVRTtFQUNFLGFBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0FBUko7QUFVRTtFQUNFLFVBQUE7QUFSSjtBQVVFO0VBQ0Usa0JBQUE7RUFHQSxpREFBQTtFQUNBLHFDQUFBO0VBQ0EsZ0JBQUE7RUFDQSxXQUFBO0FBVkoiLCJmaWxlIjoibWFpbi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkB1c2UgJy4uL3N0eWxlL2Jhc2UnO1xyXG5AdXNlICcuLi9zdHlsZS9yZXNwb25zaXZlJztcclxuLy8gQHVzZSAnLi4vc3R5bGUvdGhlbWUnO1xyXG5cclxuLy8gLndyYXBwZXIge1xyXG4vLyAgIEBpbmNsdWRlIHRoZW1lLnRoZW1lKCkge1xyXG4vLyAgICAgY29sb3I6IHRoZW1lLnRoZW1lLWdldChcInRleHQtY29sb3JcIik7XHJcbi8vICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0aGVtZS50aGVtZS1nZXQoXCJiZy1jb2xvclwiKTtcclxuLy8gICB9XHJcbi8vIH1cclxuXHJcbi53cmFwcGVyIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIHdpZHRoOiA5MCU7XHJcbiAgbWF4LXdpZHRoOiAxMjAwcHg7XHJcbiAgaGVpZ2h0OiA5MCU7XHJcbiAgLy8gYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgYmFzZS4kY29sb3ItYnJpZ2h0LTIsIGJhc2UuJGNvbG9yLWRhcmstMik7XHJcbiAgYm94LXNoYWRvdzogM3B4IDNweCAyMHB4IHJnYmEoMCwgMCwgMCwgMC4yKTtcclxuICBib3JkZXItcmFkaXVzOiAxJTtcclxuICBAaW5jbHVkZSByZXNwb25zaXZlLm1vYmlsZSB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICB9XHJcbiAgYXBwLW5hdmJhciB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIH1cclxuICBhcHAtbG9naW4ge1xyXG4gICAgd2lkdGg6IDUwJTtcclxuICB9XHJcbiAgbWFpbiB7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAvLyBtYXJnaW4tbGVmdDogMXZtaW47XHJcbiAgICAvLyBib3JkZXItcmFkaXVzOiBiYXNlLiRib3JkZXItcmFkaXVzLXJpZ2h0O1xyXG4gICAgYm9yZGVyLXJhZGl1czogdmFyKC0tYm9yZGVyLXJhZGl1cy1yaWdodC1mb3ItbHRyKTtcclxuICAgIG1hcmdpbjogdmFyKC0tc21hbGwtZ2FwLWxlZnQtZm9yLWx0cik7XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgfVxyXG59XHJcbiIsIiR0YWJsZXQtd2lkdGg6IDc2OHB4O1xyXG4kZGVza3RvcC13aWR0aDogMTAyNHB4O1xyXG5cclxuQG1peGluIG1vYmlsZSB7XHJcbiAgICBAbWVkaWEgKG1heC13aWR0aDogI3skdGFibGV0LXdpZHRofSkge1xyXG4gICAgICAgIEBjb250ZW50O1xyXG4gICAgfVxyXG59XHJcblxyXG5AbWl4aW4gdGFibGV0IHtcclxuICAgIEBtZWRpYSAobWluLXdpZHRoOiAjeyR0YWJsZXQtd2lkdGh9KSBhbmQgKG1heC13aWR0aDogI3skZGVza3RvcC13aWR0aCAtIDFweH0pIHtcclxuICAgICAgICBAY29udGVudDtcclxuICAgIH1cclxufVxyXG5cclxuQG1peGluIGRlc2t0b3Age1xyXG4gICAgQG1lZGlhIChtaW4td2lkdGg6ICN7JGRlc2t0b3Atd2lkdGh9KSB7XHJcbiAgICAgICAgQGNvbnRlbnQ7XHJcbiAgICB9XHJcbn0iXX0= */\"],\n  data: {\n    animation: [routeSlider]\n  }\n});","map":{"version":3,"sources":["D:\\Code\\angular-crm\\client\\src\\app\\main\\main.component.ts","D:\\Code\\angular-crm\\client\\src\\app\\main\\main.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { RouterOutlet } from '@angular/router';\r\nimport { User } from '../interface/user';\r\nimport { AuthService } from '../services/auth.service';\r\nimport { routeSlider } from '../animations';\r\nimport { LanguageService } from '../language/language.service';\r\nimport { ThemeService } from '../services/theme.service';\r\nimport { CustomersService } from '../services/customers.service';\r\nimport { ProductsService } from '../services/products.service';\r\n@Component({\r\n  selector: 'app-main',\r\n  templateUrl: './main.component.html',\r\n  styleUrls: ['./main.component.scss'],\r\n  animations: [routeSlider],\r\n})\r\nexport class MainComponent implements OnInit {\r\n  user: User | undefined;\r\n\r\n  constructor(\r\n    private authService: AuthService,\r\n    private languageService: LanguageService,\r\n    private themeService: ThemeService,\r\n    private customersService: CustomersService,\r\n    private productService: ProductsService,\r\n  ) {\r\n    this.languageService.setDefaultLanguage();\r\n    this.getInitData();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.authService.authSuccess$.subscribe((user) => {\r\n      this.user = user;\r\n    });\r\n    this.isLogged();\r\n    this.themeService.setDefaultTheme();\r\n  }\r\n  \r\n  async getInitData() {\r\n    const products = await this.productService.getProducts();\r\n    this.customersService.getCustomersWithProducts(50, products);\r\n  }\r\n\r\n  isLogged() {\r\n    const user = this.authService.getUserForLocalToken();\r\n\r\n    if (user) {\r\n      this.user = user;\r\n    }\r\n  }\r\n\r\n  prepareRoute(outlet: RouterOutlet) {\r\n    return (\r\n      outlet && outlet.activatedRouteData && outlet.activatedRouteData.animation\r\n    );\r\n  }\r\n}\r\n","<mat-card class=\"wrapper\">\r\n    <app-navbar *ngIf=\"user\"></app-navbar>\r\n    <main *ngIf=\"user\" [@routeAnimations]=\"prepareRoute(outlet)\">\r\n        <router-outlet #outlet=\"outlet\"></router-outlet>\r\n    </main>\r\n    <app-login-register *ngIf=\"!user\"></app-login-register>\r\n</mat-card>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}