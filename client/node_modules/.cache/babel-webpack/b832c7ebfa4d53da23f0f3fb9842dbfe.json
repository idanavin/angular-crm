{"ast":null,"code":"import _asyncToGenerator from \"D:/Code/angular-crm/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../shared/form/input/form-validator\";\nimport * as i3 from \"../../services/auth.service\";\nimport * as i4 from \"@ngx-translate/core\";\nimport * as i5 from \"../../shared/form/input/generic-input/generic-input.component\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"@angular/material/progress-spinner\";\n\nfunction LoginComponent_mat_spinner_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-spinner\", 8);\n  }\n\n  if (rf & 2) {\n    i0.ɵɵproperty(\"diameter\", 24);\n  }\n}\n\nexport class LoginComponent {\n  constructor(fb, formValidator, authService) {\n    this.fb = fb;\n    this.formValidator = formValidator;\n    this.authService = authService;\n    this.loading = false;\n    this.loginForm = this.fb.group({\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', [Validators.required, Validators.minLength(3)]]\n    });\n    this.loginError = false;\n    this.success = false;\n  }\n\n  ngOnInit() {}\n\n  login() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        if (!_this.loginForm.valid) {\n          _this.formValidator.validate(_this.loginForm);\n\n          return;\n        }\n\n        _this.loginError = false;\n        _this.loading = true;\n        yield _this.authService.login(_this.loginForm.value);\n        _this.success = true;\n      } catch (error) {\n        _this.loginError = true;\n      }\n\n      _this.loading = false;\n    })();\n  }\n\n  get email() {\n    return this.loginForm.get('email');\n  }\n\n  get password() {\n    return this.loginForm.get('password');\n  }\n\n}\n\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.FormValidator), i0.ɵɵdirectiveInject(i3.AuthService));\n};\n\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 11,\n  vars: 4,\n  consts: [[1, \"wrapper\"], [\"translate\", \"\"], [3, \"formGroup\", \"ngSubmit\"], [\"formControlName\", \"email\", \"placeholder\", \"test@test.com\", \"label\", \"person.email\", \"iconPrefix\", \"email\"], [\"formControlName\", \"password\", \"placeholder\", \"person.password\", \"type\", \"password\"], [\"mat-raised-button\", \"\", \"type\", \"submit\", \"color\", \"primary\", 3, \"disabled\"], [1, \"loading-indicator\"], [3, \"diameter\", 4, \"ngIf\"], [3, \"diameter\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"h1\", 1);\n      i0.ɵɵtext(2, \"LOGIN_WELCOME\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"form\", 2);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_3_listener() {\n        return ctx.login();\n      });\n      i0.ɵɵelement(4, \"app-generic-input\", 3);\n      i0.ɵɵelement(5, \"app-generic-input\", 4);\n      i0.ɵɵelementStart(6, \"button\", 5);\n      i0.ɵɵelementStart(7, \"div\", 6);\n      i0.ɵɵelementStart(8, \"span\", 1);\n      i0.ɵɵtext(9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(10, LoginComponent_mat_spinner_10_Template, 1, 1, \"mat-spinner\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"disabled\", ctx.loading);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\" \", ctx.loading ? \"LOADING\" : !ctx.success ? \"LOGIN\" : \"SUCCESS\", \" \");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.loading);\n    }\n  },\n  directives: [i4.TranslateDirective, i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i5.GenericInputComponent, i1.NgControlStatus, i1.FormControlName, i6.MatButton, i7.NgIf, i8.MatSpinner],\n  styles: [\"[_nghost-%COMP%] {\\n  width: 100%;\\n}\\n[_nghost-%COMP%]   .wrapper[_ngcontent-%COMP%] {\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  border-radius: 3% 0 0 3%;\\n  background: var(--color-accent-gradient-1);\\n  padding-right: 10%;\\n}\\n[_nghost-%COMP%]   .wrapper[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  text-align: center;\\n}\\n[_nghost-%COMP%]   .wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  grid-gap: 3vmin;\\n  gap: 3vmin;\\n  width: 100%;\\n  align-items: center;\\n}\\n[_nghost-%COMP%]   .wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%] {\\n  width: 70%;\\n}\\n[_nghost-%COMP%]   .wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  border-radius: 10rem;\\n  padding-top: 0.5rem;\\n  padding-bottom: 0.5rem;\\n  text-transform: uppercase;\\n  font-weight: bold;\\n  width: 20rem;\\n}\\n[_nghost-%COMP%]   .wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .loading-indicator[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: center;\\n  align-items: center;\\n}\\n[_nghost-%COMP%]   .wrapper[_ngcontent-%COMP%]   .helpers[_ngcontent-%COMP%] {\\n  height: 33%;\\n  width: 30vw;\\n}\\n[_nghost-%COMP%]   .wrapper[_ngcontent-%COMP%]   .helpers[_ngcontent-%COMP%]   .worng-login[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLmNvbXBvbmVudC5zY3NzIiwiLi5cXC4uXFxzdHlsZVxcX2Jhc2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNFLFdBQUE7QUFBRjtBQUNFO0VBQ0UsWUFBQTtFQUNBLGFBQUE7RUFDQSxzQkFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSx3QkNHaUI7RURGakIsMENBQUE7RUFDQSxrQkFBQTtBQUNKO0FBQUk7RUFDRSxhQUFBO0VBQ0EsbUJBQUE7RUFFQSxrQkFBQTtBQUNOO0FBQ0k7RUFDRSxhQUFBO0VBQ0Esc0JBQUE7RUFFQSxlQUFBO0VBQUEsVUFBQTtFQUNBLFdBQUE7RUFDQSxtQkFBQTtBQUFOO0FBQ007RUFDRSxVQUFBO0FBQ1I7QUFDTTtFQUNFLG9CQUFBO0VBQ0EsbUJBQUE7RUFDQSxzQkFBQTtFQUNBLHlCQUFBO0VBQ0EsaUJBQUE7RUFDQSxZQUFBO0FBQ1I7QUFDUTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7QUFDVjtBQUdJO0VBQ0UsV0FBQTtFQUNBLFdBQUE7QUFETjtBQUVNO0VBQ0UsYUFBQTtFQUNBLHNCQUFBO0FBQVIiLCJmaWxlIjoibG9naW4uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAdXNlICcuLi8uLi9zdHlsZS9iYXNlJztcclxuOmhvc3Qge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIC53cmFwcGVyIHtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYm9yZGVyLXJhZGl1czogYmFzZS4kYm9yZGVyLXJhZGl1cy1sZWZ0O1xyXG4gICAgYmFja2dyb3VuZDogdmFyKC0tY29sb3ItYWNjZW50LWdyYWRpZW50LTEpO1xyXG4gICAgcGFkZGluZy1yaWdodDogMTAlO1xyXG4gICAgaDEge1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG5cclxuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgfVxyXG4gICAgZm9ybSB7XHJcbiAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcblxyXG4gICAgICBnYXA6IDN2bWluO1xyXG4gICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgJiA+ICoge1xyXG4gICAgICAgIHdpZHRoOiA3MCU7XHJcbiAgICAgIH1cclxuICAgICAgYnV0dG9uIHtcclxuICAgICAgICBib3JkZXItcmFkaXVzOiAxMHJlbTtcclxuICAgICAgICBwYWRkaW5nLXRvcDogMC41cmVtO1xyXG4gICAgICAgIHBhZGRpbmctYm90dG9tOiAwLjVyZW07XHJcbiAgICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcclxuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgICAgICB3aWR0aDogMjByZW07XHJcblxyXG4gICAgICAgIC5sb2FkaW5nLWluZGljYXRvcntcclxuICAgICAgICAgIGRpc3BsYXk6ZmxleDtcclxuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAuaGVscGVycyB7XHJcbiAgICAgIGhlaWdodDogMzMlO1xyXG4gICAgICB3aWR0aDogMzB2dztcclxuICAgICAgLndvcm5nLWxvZ2luIHtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiJG1haW4tdGV4dC1jb2xvcjogd2hpdGU7XHJcbiRjb2xvci1icmlnaHQtMTogcmdiKDIyOCwgMjM3LCAyMzIpO1xyXG4kY29sb3ItYnJpZ2h0LTI6IHJnYigyNDIsIDI0MywgMjM3KTtcclxuJGNvbG9yLWJyaWdodC0zOiB3aGl0ZTtcclxuJGNvbG9yLWRhcmstMTogcmdiKDE3OSwgMTk0LCAxOTcpO1xyXG4kY29sb3ItZGFyay0yOiByZ2IoMjIwLCAyMzUsIDIzMik7XHJcbiRjb2xvci1kYXJrLTM6IHJnYigyMzQsIDI0MCwgMjM4KTtcclxuXHJcbiRjb2xvci1jb250cmFzdC1icmlnaHQ6IHJnYigyNDcsIDE5MiwgMTM4KTtcclxuJGNvbG9yLWNvbnRyYXN0LWRhcms6IHJnYigyNDcsIDE1MiwgMTA0KTtcclxuXHJcbiRib3JkZXItcmFkaXVzOiAzJTtcclxuJGJvcmRlci1yYWRpdXMtbGVmdDogMyUgMCAwIDMlO1xyXG4kYm9yZGVyLXJhZGl1cy1yaWdodDogMCAzJSAzJSAwO1xyXG4kZm9udC1mYW1pbHktaGVhZGVyOiAnUG9wcGlucycsIHNhbnMtc2VyaWY7XHJcbiRmb250LWZhbWlseS1zdWI6ICdQb3BwaW5zJywgc2Fucy1zZXJpZjtcclxuXHJcbkBtaXhpbiBjdXN0b20taGVhZGVyIHtcclxuICAgIGZvbnQtZmFtaWx5OiAkZm9udC1mYW1pbHktaGVhZGVyO1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICBmb250LXNpemU6IDJlbTtcclxufVxyXG5cclxuQG1peGluIGN1c3RvbS1zdWJoZWFkZXIge1xyXG4gICAgZm9udC1mYW1pbHk6ICRmb250LWZhbWlseS1zdWI7XHJcbiAgICBmb250LXdlaWdodDogMjAwO1xyXG4gICAgZm9udC1zaXplOiAxLjJlbTtcclxufSJdfQ== */\"]\n});","map":{"version":3,"sources":["D:\\Code\\angular-crm\\src\\app\\login-register\\login\\login.component.ts","D:\\Code\\angular-crm\\src\\app\\login-register\\login\\login.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, Validators, FormBuilder } from '@angular/forms';\r\nimport { AuthService } from '../../services/auth.service';\r\nimport { FormValidator } from '../../shared/form/input/form-validator';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.scss'],\r\n})\r\nexport class LoginComponent implements OnInit {\r\n  loading: boolean = false;\r\n  success: boolean;\r\n  loginError: boolean;\r\n\r\n  loginForm: FormGroup = this.fb.group({\r\n    email: ['', [Validators.required, Validators.email]],\r\n    password: ['', [Validators.required, Validators.minLength(3)]],\r\n  });\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private readonly formValidator: FormValidator,\r\n    private authService: AuthService\r\n  ) {\r\n    this.loginError = false;\r\n    this.success = false;\r\n  }\r\n\r\n  ngOnInit(): void {}\r\n\r\n  async login() {\r\n    try {\r\n      if (!this.loginForm.valid) {\r\n        this.formValidator.validate(this.loginForm);\r\n        return;\r\n      }\r\n\r\n      this.loginError = false;\r\n      this.loading = true;\r\n      await this.authService.login(this.loginForm.value);\r\n      this.success = true;\r\n    } catch (error) {\r\n      this.loginError = true;\r\n    }\r\n    this.loading = false;\r\n  }\r\n\r\n  get email() {\r\n    return this.loginForm.get('email');\r\n  }\r\n\r\n  get password() {\r\n    return this.loginForm.get('password');\r\n  }\r\n}\r\n","<div class=\"wrapper\">\r\n  <h1 translate>LOGIN_WELCOME</h1>\r\n  <form [formGroup]=\"loginForm\" (ngSubmit)=\"login()\">\r\n    <!-- <app-input\r\n      formControlName=\"email\"\r\n      [parentForm]=\"loginForm\"\r\n      [fieldName]=\"'email'\"\r\n      [label]=\"'EMAIL' | translate\"\r\n      [placeholder]=\"'EMAIL' | translate\"\r\n      [icon]=\"'email'\"\r\n    >\r\n    </app-input> -->\r\n\r\n    <!-- <app-input\r\n      formControlName=\"password\"\r\n      [parentForm]=\"loginForm\"\r\n      [fieldName]=\"'password'\"\r\n      [label]=\"'PASSWORD' | translate\"\r\n      [placeholder]=\"'PASSWORD' | translate\"\r\n      [type]=\"'password'\"\r\n    >\r\n    </app-input> -->\r\n\r\n    <app-generic-input\r\n      formControlName=\"email\"\r\n      placeholder=\"test@test.com\"\r\n      label=\"person.email\"\r\n      iconPrefix=\"email\"\r\n    >\r\n    </app-generic-input>\r\n    <app-generic-input\r\n      formControlName=\"password\"\r\n      placeholder=\"person.password\"\r\n      type=\"password\"\r\n    >\r\n    </app-generic-input>\r\n\r\n    <!-- todo-move code to button component -->\r\n    <button\r\n      [disabled]=\"loading\"\r\n      mat-raised-button\r\n      type=\"submit\"\r\n      color=\"primary\"\r\n    >\r\n      <div class=\"loading-indicator\">\r\n        <span translate>\r\n          {{ loading ? \"LOADING\" : !success ? \"LOGIN\" : \"SUCCESS\" }}\r\n        </span>\r\n        <mat-spinner *ngIf=\"loading\" [diameter]=\"24\"></mat-spinner>\r\n      </div>\r\n    </button>\r\n  </form>\r\n</div>\r\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}